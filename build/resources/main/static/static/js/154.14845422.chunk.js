"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[154],{154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var i=n(43),a=n(64),s=n.n(a),o=n(779),r=n(292),c=n(579);const l=()=>{const e=(0,r.Zp)(),t=(0,r.zy)(),[n,a]=(0,i.useState)((()=>{const e=localStorage.getItem("timeLeft");return e?parseInt(e,10):300})),[l,d]=(0,i.useState)(""),[u,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),h=new URLSearchParams(t.search),w=h.get("action"),x=h.get("email");(0,i.useEffect)((()=>{localStorage.setItem("timeLeft",n),n<=0&&(p(!0),localStorage.removeItem("timeLeft"));const e=setInterval((()=>{a((e=>e>0?e-1:0))}),1e3);return()=>clearInterval(e)}),[n]);return(0,c.jsx)(o.A,{children:(0,c.jsxs)("div",{className:"email-test-content",children:[(0,c.jsx)("h2",{children:"find-id"===w?"\uc544\uc774\ub514 \ucc3e\uae30":"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"}),(0,c.jsx)("div",{className:"input-section",children:(0,c.jsxs)("div",{className:"input-with-button",children:[(0,c.jsx)("input",{type:"text",className:"input-box",placeholder:f?"":u?"\uc778\uc99d\uc2dc\uac04 \uc885\ub8cc":"\uc778\uc99d\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694",value:l,onChange:e=>{d(e.target.value)},onFocus:()=>m(!0),onBlur:()=>m(!1),disabled:u}),(0,c.jsx)("button",{className:"action-btn",onClick:u?()=>e("/find_userinfo"):async()=>{if(l)if(/^\d{6}$/.test(l))try{const t=await fetch("/api/check-id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,resetCode:l})});if(t.ok){const n=await t.json();"find-id"===w?s().fire({title:"\uc131\uacf5",text:"\uc544\uc774\ub514\ub294 ".concat(n.email,"\uc785\ub2c8\ub2e4."),icon:"success",confirmButtonText:"\ud655\uc778"}).then((()=>e("/login"))):"reset-password"===w&&s().fire({title:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd",html:'\n                            <input type="password" id="new-password" class="alert_input" placeholder="\uc0c8 \ube44\ubc00\ubc88\ud638">\n                            <input type="password" id="confirm-password" class="alert_input" placeholder="\ube44\ubc00\ubc88\ud638 \ud655\uc778">\n                        ',confirmButtonText:"\ubcc0\uacbd",preConfirm:()=>{const e=s().getPopup().querySelector("#new-password").value,t=s().getPopup().querySelector("#confirm-password").value;return e&&t||s().showValidationMessage("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),e!==t&&s().showValidationMessage("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),e}}).then((async t=>{const n=t.value;(await fetch("/api/change-pw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,newPassword:n})})).ok?s().fire({title:"\uc131\uacf5",text:"\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",icon:"success",confirmButtonText:"\ud655\uc778"}).then((()=>e("/login"))):await s().fire({title:"\ubcc0\uacbd \uc2e4\ud328",text:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",icon:"error",confirmButtonText:"\ud655\uc778"})}))}else await s().fire({title:"\uc2e4\ud328",text:"\uc778\uc99d\ucf54\ub4dc\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",icon:"error",confirmButtonText:"\ud655\uc778"})}catch(t){await s().fire({title:"\uc2e4\ud328",text:"\uc11c\ubc84\uc640\uc758 \ud1b5\uc2e0 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",icon:"error",confirmButtonText:"\ud655\uc778"})}else await s().fire({title:"\uc785\ub825 \uc624\ub958",text:"6\uc790\ub9ac \uc22b\uc790 \uc778\uc99d\ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.",icon:"warning",confirmButtonText:"\ud655\uc778"});else await s().fire({title:"\uc785\ub825\ub780 \ube48\uce78",text:"\uc778\uc99d\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",icon:"warning",confirmButtonText:"\ud655\uc778"})},children:u?"\ub4a4\ub85c\uac00\uae30":"\ud655\uc778"})]})}),(0,c.jsxs)("div",{className:"time-set",children:[(0,c.jsx)("p",{className:"timer-txt",children:"\uc778\uc99d\uc2dc\uac04"}),(0,c.jsx)("p",{className:"timer",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)})(n)})]})]})})}}}]);
//# sourceMappingURL=154.14845422.chunk.js.map
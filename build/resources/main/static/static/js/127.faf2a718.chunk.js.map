{"version":3,"file":"static/js/127.faf2a718.chunk.js","mappings":"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","sources":["pages/Main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport DiningLayout from \"../layouts/DiningLayout\";\nimport \"../css/Main.css\";\n\nconst Main = () => {\n    const [restaurants, setRestaurants] = useState([]);\n    const [hotIndex, setHotIndex] = useState(0);\n    const [soloIndex, setSoloIndex] = useState(0);\n    const [safeIndex, setSafeIndex] = useState(0);\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        axios\n            .get(\"http://192.168.0.61:18080/api/restaurants-with-reviews\")\n            .then((response) => {\n                setRestaurants(response.data);\n            })\n            .catch((error) => {\n                console.error(\"Error fetching restaurants:\", error);\n            });\n    }, []);\n\n    const handleNext = (setIndex, index, items) => {\n        if (index + 4 < items.length) {\n            setIndex(index + 1);\n        }\n    };\n\n    const handlePrev = (setIndex, index) => {\n        if (index > 0) {\n            setIndex(index - 1);\n        }\n    };\n\n    const handleCardClick = (restaurantName) => {\n        navigate(`/find_store/${restaurantName}`);\n    };\n\n    const renderCategory = (title, filteredRestaurants, index, setIndex) => {\n        return (\n            <div className=\"main-category-section\">\n                <h2 className=\"main-category-title\">{title}</h2>\n                <div className=\"main-carousel-container\">\n                    <button\n                        className=\"main-arrow-button main-left-arrow\"\n                        onClick={() => handlePrev(setIndex, index)}\n                        disabled={index === 0}\n                    >\n                        ◀\n                    </button>\n                    <div className=\"main-card-list\">\n                        {filteredRestaurants\n                            .slice(index, index + 4)\n                            .map((restaurant) => (\n                                <div\n                                    key={restaurant.id}\n                                    className=\"main-card\"\n                                    onClick={() => handleCardClick(restaurant.name)}\n                                >\n                                    <img\n                                        src={\n                                            restaurant.photoName === \"default.jpg\"\n                                                ? \"/images/default.jpg\"\n                                                : `/images/restaurant/${restaurant.photoName}`\n                                        }\n                                        alt={restaurant.name}\n                                        className=\"main-card-image\"\n                                    />\n                                    <h3 className=\"main-card-title\">{restaurant.name}</h3>\n                                    <p className=\"main-card-menu\">\n                                        대표메뉴: {restaurant.category || \"정보 없음\"}\n                                    </p>\n                                    <h3 className=\"main-card-rating\">\n                                        ⭐\n                                        {restaurant.reviews?.length > 0 &&\n                                        restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) > 0\n                                            ? (\n                                                restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) /\n                                                restaurant.reviews.length\n                                            ).toFixed(1)\n                                            : restaurant.scoreNumber}\n                                    </h3>\n                                </div>\n                            ))}\n                    </div>\n                    <button\n                        className=\"main-arrow-button main-right-arrow\"\n                        onClick={() =>\n                            handleNext(setIndex, index, filteredRestaurants)\n                        }\n                        disabled={index + 4 >= filteredRestaurants.length}\n                    >\n                        ▶\n                    </button>\n                </div>\n            </div>\n        );\n    };\n\n    const hotRestaurants = restaurants\n        .slice()\n        .sort(\n            (a, b) =>\n                b.reviews?.length - a.reviews?.length || b.scoreNumber - a.scoreNumber\n        );\n\n    const soloRestaurants = restaurants.filter((restaurant) =>\n        restaurant.tags?.includes(\"혼밥\")\n    );\n\n    const safeRestaurants = restaurants.filter((restaurant) =>\n        restaurant.tags?.includes(\"안심식당\")\n    );\n\n    return (\n        <DiningLayout>\n            <div className=\"main-container\">\n                {renderCategory(\n                    \"HOT 음식점 추천\",\n                    hotRestaurants,\n                    hotIndex,\n                    setHotIndex\n                )}\n                {renderCategory(\n                    \"혼밥 식당 추천\",\n                    soloRestaurants,\n                    soloIndex,\n                    setSoloIndex\n                )}\n                {renderCategory(\n                    \"안심식당 추천\",\n                    safeRestaurants,\n                    safeIndex,\n                    setSafeIndex\n                )}\n            </div>\n        </DiningLayout>\n    );\n};\n\nexport default Main;"],"names":["Main","restaurants","setRestaurants","useState","hotIndex","setHotIndex","soloIndex","setSoloIndex","safeIndex","setSafeIndex","navigate","useNavigate","useEffect","axios","get","then","response","data","catch","error","console","renderCategory","title","filteredRestaurants","index","setIndex","_jsxs","className","children","_jsx","onClick","handlePrev","disabled","slice","map","restaurant","_restaurant$reviews","handleCardClick","restaurantName","name","concat","src","photoName","alt","category","reviews","length","reduce","sum","review","reviewScore","toFixed","scoreNumber","id","handleNext","items","hotRestaurants","sort","a","b","_b$reviews","_a$reviews","soloRestaurants","filter","_restaurant$tags","tags","includes","safeRestaurants","_restaurant$tags2","DiningLayout"],"sourceRoot":""}
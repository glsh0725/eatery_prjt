{"version":3,"file":"static/js/127.b934338d.chunk.js","mappings":"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","sources":["pages/Main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport DiningLayout from \"../layouts/DiningLayout\";\nimport \"../css/Main.css\";\n\nconst Main = () => {\n    const [restaurants, setRestaurants] = useState([]);\n    const [hotIndex, setHotIndex] = useState(0);\n    const [soloIndex, setSoloIndex] = useState(0);\n    const [safeIndex, setSafeIndex] = useState(0);\n\n    useEffect(() => {\n        axios\n            .get(\"http://localhost:18080/api/restaurants-with-reviews\")\n            .then((response) => {\n                setRestaurants(response.data);\n            })\n            .catch((error) => {\n                console.error(\"Error fetching restaurants:\", error);\n            });\n    }, []);\n\n    const handleNext = (setIndex, index, items) => {\n        if (index + 4 < items.length) {\n            setIndex(index + 1);\n        }\n    };\n\n    const handlePrev = (setIndex, index) => {\n        if (index > 0) {\n            setIndex(index - 1);\n        }\n    };\n\n    const renderCategory = (title, filteredRestaurants, index, setIndex) => {\n        return (\n            <div className=\"main-category-section\">\n                <h2 className=\"main-category-title\">{title}</h2>\n                <div className=\"main-carousel-container\">\n                    <button\n                        className=\"main-arrow-button main-left-arrow\"\n                        onClick={() => handlePrev(setIndex, index)}\n                        disabled={index === 0}\n                    >\n                        ◀\n                    </button>\n                    <div className=\"main-card-list\">\n                        {filteredRestaurants\n                            .slice(index, index + 4)\n                            .map((restaurant) => (\n                                <div key={restaurant.id} className=\"main-card\">\n                                    <img\n                                        src={\n                                            restaurant.photoName === \"default.jpg\"\n                                                ? \"/images/default.jpg\"\n                                                : `/images/restaurant/${restaurant.photoName}`\n                                        }\n                                        alt={restaurant.name}\n                                        className=\"main-card-image\"\n                                    />\n                                    <h3 className=\"main-card-title\">{restaurant.name}</h3>\n                                    <p className=\"main-card-menu\">\n                                        대표메뉴: {restaurant.category || \"정보 없음\"}\n                                    </p>\n                                    <h3 className=\"main-card-rating\">\n                                        ⭐\n                                        {restaurant.reviews?.length > 0 &&\n                                        restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) > 0\n                                            ? (\n                                                restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) /\n                                                restaurant.reviews.length\n                                            ).toFixed(1)\n                                            : restaurant.scoreNumber}\n                                    </h3>\n                                </div>\n                            ))}\n                    </div>\n                    <button\n                        className=\"main-arrow-button main-right-arrow\"\n                        onClick={() =>\n                            handleNext(setIndex, index, filteredRestaurants)\n                        }\n                        disabled={index + 4 >= filteredRestaurants.length}\n                    >\n                        ▶\n                    </button>\n                </div>\n            </div>\n        );\n    };\n\n    const hotRestaurants = restaurants\n        .slice()\n        .sort(\n            (a, b) =>\n                b.reviews?.length - a.reviews?.length || b.scoreNumber - a.scoreNumber\n        );\n\n    const soloRestaurants = restaurants.filter((restaurant) =>\n        restaurant.tags?.includes(\"혼밥\")\n    );\n\n    const safeRestaurants = restaurants.filter((restaurant) =>\n        restaurant.tags?.includes(\"안심식당\")\n    );\n\n    return (\n        <DiningLayout>\n            <div className=\"main-container\">\n                {renderCategory(\n                    \"HOT 음식점 추천\",\n                    hotRestaurants,\n                    hotIndex,\n                    setHotIndex\n                )}\n                {renderCategory(\n                    \"혼밥 식당 추천\",\n                    soloRestaurants,\n                    soloIndex,\n                    setSoloIndex\n                )}\n                {renderCategory(\n                    \"안심식당 추천\",\n                    safeRestaurants,\n                    safeIndex,\n                    setSafeIndex\n                )}\n            </div>\n        </DiningLayout>\n    );\n};\n\nexport default Main;"],"names":["Main","restaurants","setRestaurants","useState","hotIndex","setHotIndex","soloIndex","setSoloIndex","safeIndex","setSafeIndex","useEffect","axios","get","then","response","data","catch","error","console","renderCategory","title","filteredRestaurants","index","setIndex","_jsxs","className","children","_jsx","onClick","handlePrev","disabled","slice","map","restaurant","_restaurant$reviews","src","photoName","concat","alt","name","category","reviews","length","reduce","sum","review","reviewScore","toFixed","scoreNumber","id","handleNext","items","hotRestaurants","sort","a","b","_b$reviews","_a$reviews","soloRestaurants","filter","_restaurant$tags","tags","includes","safeRestaurants","_restaurant$tags2","DiningLayout"],"sourceRoot":""}
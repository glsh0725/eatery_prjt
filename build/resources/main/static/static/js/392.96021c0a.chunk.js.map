{"version":3,"file":"static/js/392.96021c0a.chunk.js","mappings":"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","sources":["components/find_store/RestaurantDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport \"../../css/RestaurantDetail.css\";\r\n\r\nconst RestaurantDetail = () => {\r\n    const { name } = useParams();\r\n    const [restaurant, setRestaurant] = useState(null);\r\n    const [users, setUsers] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [isFavorited, setIsFavorited] = useState(false);\r\n    const [userId, setUserId] = useState(null);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [showReportModal, setShowReportModal] = useState(false);\r\n    const [showWriteReviewModal, setShowWriteReviewModal] = useState(false);\r\n    const [selectedReason, setSelectedReason] = useState(\"spam\");\r\n    const [reviews, setReviews] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const reviewsPerPage = 3;\r\n\r\n    useEffect(() => {\r\n        const fetchUserIdFromToken = () => {\r\n            const token = localStorage.getItem(\"authToken\");\r\n            if (token) {\r\n                try {\r\n                    const payload = jwtDecode(token);\r\n                    if (payload.exp * 1000 > Date.now()) {\r\n                        setUserId(payload.sub);\r\n                    } else {\r\n                        localStorage.removeItem(\"authToken\");\r\n                        setUserId(null);\r\n                    }\r\n                } catch (e) {\r\n                    console.error(\"í† í° ë””ì½”ë”© ì‹¤íŒ¨:\", e);\r\n                    setUserId(null);\r\n                }\r\n            }\r\n        };\r\n        fetchUserIdFromToken();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const restaurantResponse = await axios.get(`http://localhost:18080/api/restaurants/${name}`);\r\n                setRestaurant(restaurantResponse.data);\r\n\r\n                const reviewsResponse = await axios.get(`http://localhost:18080/api/reviews/${name}`);\r\n                setReviews(reviewsResponse.data);\r\n\r\n                const usersResponse = await axios.get(`http://localhost:18080/api/users`);\r\n                setUsers(usersResponse.data);\r\n\r\n                if (userId) {\r\n                    const response = await axios.get(`http://localhost:18080/api/likes-and-favorites/${userId}`);\r\n                    const { likes = [], favorites = [] } = response.data;\r\n                    setIsLiked(likes.includes(name));\r\n                    setIsFavorited(favorites.includes(name));\r\n                }\r\n            } catch (err) {\r\n                setError(err.message);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [name, userId]);\r\n\r\n    const toggleFavorite = async () => {\r\n        if (!userId) {\r\n            console.warn(\"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\r\n            return;\r\n        }\r\n        try {\r\n            const response = await axios.post(\r\n                `http://localhost:18080/api/favorites/toggle`,\r\n                { memId: userId, resName: name }\r\n            );\r\n            console.log(\"ì¦ê²¨ì°¾ê¸° ì‘ë‹µ:\", response.data);\r\n            setIsFavorited(response.data);\r\n        } catch (err) {\r\n            console.error(\"ì¦ê²¨ì°¾ê¸° í† ê¸€ ì¤‘ ì˜¤ë¥˜:\", err);\r\n        }\r\n    };\r\n\r\n    const toggleLike = async () => {\r\n        if (!userId) {\r\n            console.warn(\"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\r\n            return;\r\n        }\r\n        try {\r\n            const response = await axios.post(\r\n                `http://localhost:18080/api/likes/toggle`,\r\n                { memId: userId, resName: name }\r\n            );\r\n            setIsLiked(response.data);\r\n        } catch (err) {\r\n            console.error(\"ì¢‹ì•„ìš” í† ê¸€ ì¤‘ ì˜¤ë¥˜:\", err);\r\n        }\r\n    };\r\n\r\n    const handleMoreReviewsClick = () => {\r\n        setShowModal(true);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setShowModal(false);\r\n    };\r\n\r\n    const openReportModal = () => {\r\n        setShowReportModal(true);\r\n    };\r\n\r\n    const closeReportModal = () => {\r\n        setShowReportModal(false);\r\n    };\r\n\r\n    const handleReasonChange = (event) => {\r\n        setSelectedReason(event.target.value);\r\n    };\r\n\r\n    const openWriteReviewModal = () => {\r\n        setShowWriteReviewModal(true);\r\n    };\r\n\r\n    const closeWriteReviewModal = () => {\r\n        setShowWriteReviewModal(false);\r\n    };\r\n\r\n    const startIndex = (currentPage - 1) * reviewsPerPage;\r\n    const currentReviews = reviews.slice(startIndex, startIndex + reviewsPerPage);\r\n\r\n    const handleNextPage = () => {\r\n        if (currentPage < Math.ceil(reviews.length / reviewsPerPage)) {\r\n            setCurrentPage((prevPage) => prevPage + 1);\r\n        }\r\n    };\r\n\r\n    const handlePrevPage = () => {\r\n        if (currentPage > 1) {\r\n            setCurrentPage((prevPage) => prevPage - 1);\r\n        }\r\n    };\r\n\r\n    if (error) {\r\n        return <div>ì˜¤ë¥˜: {error}</div>;\r\n    }\r\n\r\n    if (!restaurant) {\r\n        return <div>ë¡œë”© ì¤‘...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"restaurant-detail\">\r\n            <div className=\"top-section\">\r\n                <div className=\"image-box\">\r\n                    <img\r\n                        src={\r\n                            restaurant.menuName === \"default.jpg\"\r\n                                ? \"/images/default.jpg\"\r\n                                : `/images/menu/${restaurant.menuName}`\r\n                        }\r\n                        alt={restaurant.name}\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"map-box\"\r\n                    style={{height: \"320px\", overflow: \"hidden\", position: \"relative\"}}\r\n                >\r\n                    <iframe\r\n                        src={`https://map.naver.com/v5/search/${encodeURIComponent(restaurant.address)}`}\r\n                        width=\"230%\"\r\n                        height=\"100%\"\r\n                        style={{\r\n                            border: \"none\",\r\n                            position: \"absolute\",\r\n                            top: 0,\r\n                            left: \"-130%\",\r\n                        }}\r\n                        allowFullScreen\r\n                        title=\"Naver Map\"\r\n                    ></iframe>\r\n                </div>\r\n            </div>\r\n            <div className=\"title-and-actions\">\r\n                <h2>\r\n                    {restaurant.name}{\" \"}\r\n                    <span className=\"rating\">\r\n                        {reviews.length > 0 && reviews.reduce((sum, review) => sum + review.reviewScore, 0) > 0\r\n                            ? (reviews.reduce((sum, review) => sum + review.reviewScore, 0) / reviews.length).toFixed(1)\r\n                            : restaurant.scoreNumber}\r\n                        </span>\r\n                </h2>\r\n                <div className=\"actions\">\r\n                    <span\r\n                        className={`favorite ${isFavorited ? \"active\" : \"\"}`}\r\n                        onClick={toggleFavorite}\r\n                    >\r\n                        â˜† ì¦ê²¨ì°¾ê¸°\r\n                    </span>\r\n                    <span\r\n                        className={`like ${isLiked ? \"active\" : \"\"}`}\r\n                        onClick={toggleLike}\r\n                    >\r\n                        â™¡ ì¢‹ì•„ìš” {restaurant.likeCount || 0}\r\n                    </span>\r\n                    <span>ğŸ‘€ ì¡°íšŒìˆ˜ {restaurant.viewCount || 0}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"main-section\">\r\n                <div className=\"details\">\r\n                    <p>ì˜ì—…ì‹œê°„: {restaurant.openTime || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                    <p>íœ´ê²Œì‹œê°„: {restaurant.breakTime || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                    <p>íœ´ë¬´ì¼: {restaurant.offDays || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                    <p>\r\n                        ì£¼ì†Œ: {restaurant.address || \"ì •ë³´ ì—†ìŒ\"} (ì§€ë²ˆ: {restaurant.oldAddress || \"ì •ë³´ ì—†ìŒ\"})\r\n                    </p>\r\n                    <p>ì „í™”ë²ˆí˜¸: {restaurant.phoneNumber || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                    {restaurant.homepage && restaurant.homepage !== \"í™ˆí˜ì´ì§€ ì •ë³´ ì—†ìŒ\" ? (\r\n                        <p>\r\n                            í™ˆí˜ì´ì§€:{\" \"}\r\n                            <a\r\n                                href={\r\n                                    restaurant.homepage.startsWith(\"http\")\r\n                                        ? restaurant.homepage\r\n                                        : `https://${restaurant.homepage}`\r\n                                }\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                            >\r\n                                {restaurant.homepage}\r\n                            </a>\r\n                        </p>\r\n                    ) : (\r\n                        <p>í™ˆí˜ì´ì§€: ì •ë³´ ì—†ìŒ</p>\r\n                    )}\r\n                    <p>ì£¼ì°¨: {restaurant.parkingInfo || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                    <p>ê´€ë ¨ íƒœê·¸: {restaurant.tags || \"ì •ë³´ ì—†ìŒ\"}</p>\r\n                </div>\r\n                <div className=\"reviews-section\">\r\n                    <div className=\"reviews-header\">\r\n                        <h3>ë¦¬ë·° ({reviews.length})</h3>\r\n                        <button className=\"review-button\" onClick={openWriteReviewModal}>ë¦¬ë·° ì‘ì„± âˆ¨</button>\r\n                    </div>\r\n                    <div className=\"review-list\">\r\n                        {reviews\r\n                            .sort((a, b) => b.reviewNumber - a.reviewNumber)\r\n                            .slice(0, 2)\r\n                            .map((review, index) => {\r\n                                const user = users.find((user) => user.mem_id === review.memberId);\r\n\r\n                                return (\r\n                                    <div key={index} className=\"review-item\">\r\n                                        <p>\r\n                                            {user ? user.mem_nickname : \"ì•Œ ìˆ˜ ì—†ìŒ\"}{\" \"}\r\n                                            <span className=\"rating\">{review.reviewScore.toFixed(1)}</span>\r\n                                        </p>\r\n                                        <div className=\"review-content\">{review.reviewContent}</div>\r\n                                        {review.reviewPhotoName && (\r\n                                            <div className=\"review-image\">\r\n                                                <img\r\n                                                    src={`/images/reviews/${review.reviewPhotoName}`}\r\n                                                    alt=\"ë¦¬ë·° ì´ë¯¸ì§€\"\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                        <div className=\"review-actions\">\r\n                                            â¤ï¸ ì¢‹ì•„ìš” {review.reviewLikes || 0}\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                    </div>\r\n                    <button className=\"more-reviews\" onClick={handleMoreReviewsClick}>\r\n                        ë¦¬ë·° ë”ë³´ê¸° +\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                showModal && (\r\n                    <div className=\"modal-overlay\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h2>ë¦¬ë·° ëª©ë¡ ({reviews.length})</h2>\r\n                                <button className=\"write-review-btn\" onClick={openWriteReviewModal}>ë¦¬ë·° ì‘ì„± âˆ¨</button>\r\n                                <button className=\"close-modal\" onClick={closeModal}>\r\n                                    X\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {reviews.length > 0 ? (\r\n                                    <div className=\"review-container\">\r\n                                        <div className=\"review-list\">\r\n                                            {currentReviews.map((review, index) => {\r\n                                                const user = users.find((user) => user.mem_id === review.memberId);\r\n\r\n                                                return (\r\n                                                    <div key={index} className=\"review-item\">\r\n                                                        <div className=\"review-header\">\r\n                                                            <div className=\"review-info\">\r\n                                                                <strong>{user ? user.mem_nickname : \"ì•Œ ìˆ˜ ì—†ìŒ\"}</strong>{\" \"}\r\n                                                                <span className=\"rating\">{parseFloat(review.reviewScore).toFixed(1)}</span>\r\n                                                                <span className=\"report\" onClick={openReportModal}>ğŸš¨ ì‹ ê³ </span>\r\n                                                            </div>\r\n                                                            <div className=\"review-actions\">\r\n                                                                <button className=\"edit-btn\">ìˆ˜ì •</button>\r\n                                                                <button className=\"delete-btn\">ì‚­ì œ</button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"review-content\">{review.reviewContent}</div>\r\n                                                        <div className=\"review-container\">\r\n                                                            {review.reviewPhotoName && (\r\n                                                                <div className=\"review-image\">\r\n                                                                    <a\r\n                                                                        href={`/images/reviews/${review.reviewPhotoName}`}\r\n                                                                        target=\"_blank\"\r\n                                                                        rel=\"noopener noreferrer\"\r\n                                                                    >\r\n                                                                        <img\r\n                                                                            src={`/images/reviews/${review.reviewPhotoName}`}\r\n                                                                            alt=\"ë¦¬ë·° ì´ë¯¸ì§€\"\r\n                                                                        />\r\n                                                                    </a>\r\n                                                                </div>\r\n                                                            )}\r\n                                                            <div className=\"review-footer\">\r\n                                                                <span>â¤ï¸ ì¢‹ì•„ìš” {review.reviewLikes || 0}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                        <div className=\"pagination-controls\">\r\n                                            <button onClick={handlePrevPage} disabled={currentPage === 1}>\r\n                                                âˆ§\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={handleNextPage}\r\n                                                disabled={currentPage === Math.ceil(reviews.length / reviewsPerPage)}\r\n                                            >\r\n                                                âˆ¨\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <p>ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n            {showReportModal && (\r\n                <div className=\"report-modal-overlay\">\r\n                    <div className=\"report-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                        <div className=\"report-modal-header\">\r\n                            <h2>ì‹ ê³ í•˜ê¸°</h2>\r\n                            <button className=\"close-report-modal\" onClick={closeReportModal}>\r\n                                X\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"report-modal-body\">\r\n                            <p>\r\n                                <strong>ì‘ì„±ì</strong> | ë‹‰ë„¤ì„1\r\n                            </p>\r\n                            <p>\r\n                                <strong>ì œëª©</strong> | ì œëª©\r\n                            </p>\r\n                            <div className=\"report-options\">\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"spam\"\r\n                                        checked={selectedReason === \"spam\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ìŠ¤íŒ¸í™ë³´/ë„ë°°ì…ë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"obscene\"\r\n                                        checked={selectedReason === \"obscene\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ìŒë€ë¬¼ì…ë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"illegal\"\r\n                                        checked={selectedReason === \"illegal\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ë¶ˆë²•ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"harmful\"\r\n                                        checked={selectedReason === \"harmful\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ì²­ì†Œë…„ì—ê²Œ ìœ í•´í•œ ë‚´ìš©ì…ë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"offensive\"\r\n                                        checked={selectedReason === \"offensive\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ìš•ì„¤/ìƒëª…ê²½ì‹œ/í˜ì˜¤/ì°¨ë³„ì  í‘œí˜„ì…ë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"privacy\"\r\n                                        checked={selectedReason === \"privacy\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ê°œì¸ì •ë³´ê°€ ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.\r\n                                </label>\r\n                                <label>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"reportReason\"\r\n                                        value=\"custom\"\r\n                                        checked={selectedReason === \"custom\"}\r\n                                        onChange={handleReasonChange}\r\n                                    />\r\n                                    ì§ì ‘ ì…ë ¥í•˜ê¸°.\r\n                                </label>\r\n                            </div>\r\n                            <textarea\r\n                                className=\"report-custom-input\"\r\n                                placeholder=\"ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\"\r\n                                disabled={selectedReason !== \"custom\"}\r\n                            ></textarea>\r\n                        </div>\r\n                        <div className=\"report-modal-footer\">\r\n                            <button className=\"submit-btn\">\r\n                                ì‹ ê³ í•˜ê¸°\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {showWriteReviewModal && (\r\n                <div className=\"modal-overlay\">\r\n                    <div className=\"review-write-modal-content\">\r\n                        <div className=\"review-write-modal-header\">\r\n                            <h2>ë¦¬ë·° ì‘ì„±</h2>\r\n                            <button className=\"close-review-write-modal\" onClick={closeWriteReviewModal}>\r\n                                X\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"review-write-modal-body\">\r\n                            <div className=\"review-write-actions\">\r\n                                <button className=\"review-write-rating-btn\">ë³„ì  ë“±ë¡ â–¼</button>\r\n                                <button className=\"review-write-image-upload-btn\">ì´ë¯¸ì§€ ì²¨ë¶€</button>\r\n                            </div>\r\n                            <textarea\r\n                                placeholder=\"ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”\"\r\n                                className=\"review-write-content-input\"\r\n                            ></textarea>\r\n                            <div className=\"review-write-modal-footer\">\r\n                                <button className=\"cancel-btn\" onClick={closeWriteReviewModal}>\r\n                                    ì·¨ì†Œ\r\n                                </button>\r\n                                <button className=\"submit-btn\">ë“±ë¡</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RestaurantDetail;"],"names":["RestaurantDetail","name","useParams","restaurant","setRestaurant","useState","users","setUsers","error","setError","isLiked","setIsLiked","isFavorited","setIsFavorited","userId","setUserId","showModal","setShowModal","showReportModal","setShowReportModal","showWriteReviewModal","setShowWriteReviewModal","selectedReason","setSelectedReason","reviews","setReviews","currentPage","setCurrentPage","useEffect","fetchUserIdFromToken","token","localStorage","getItem","payload","jwtDecode","exp","Date","now","sub","removeItem","e","console","async","restaurantResponse","axios","get","concat","data","reviewsResponse","usersResponse","response","likes","favorites","includes","err","message","fetchData","openReportModal","handleReasonChange","event","target","value","openWriteReviewModal","closeWriteReviewModal","startIndex","currentReviews","slice","_jsxs","children","className","_jsx","src","menuName","alt","style","height","overflow","position","encodeURIComponent","address","width","border","top","left","allowFullScreen","title","length","reduce","sum","review","reviewScore","toFixed","scoreNumber","onClick","post","memId","resName","log","warn","likeCount","viewCount","openTime","breakTime","offDays","oldAddress","phoneNumber","homepage","href","startsWith","rel","parkingInfo","tags","sort","a","b","reviewNumber","map","index","user","find","mem_id","memberId","mem_nickname","reviewContent","reviewPhotoName","reviewLikes","handleMoreReviewsClick","closeModal","parseFloat","handlePrevPage","prevPage","disabled","handleNextPage","Math","ceil","stopPropagation","closeReportModal","type","checked","onChange","placeholder"],"sourceRoot":""}
{"version":3,"file":"static/js/127.fe6cc3c9.chunk.js","mappings":"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","sources":["pages/Main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DiningLayout from \"../layouts/DiningLayout\";\r\nimport \"../css/Main.css\";\r\n\r\nconst Main = () => {\r\n    const [restaurants, setRestaurants] = useState([]);\r\n    const [hotIndex, setHotIndex] = useState(0);\r\n    const [soloIndex, setSoloIndex] = useState(0);\r\n    const [safeIndex, setSafeIndex] = useState(0);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(\"http://localhost:18080/api/restaurants-with-reviews\")\r\n            .then((response) => {\r\n                setRestaurants(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching restaurants:\", error);\r\n            });\r\n    }, []);\r\n\r\n    const handleNext = (setIndex, index, items) => {\r\n        if (index + 4 < items.length) {\r\n            setIndex(index + 1);\r\n        }\r\n    };\r\n\r\n    const handlePrev = (setIndex, index) => {\r\n        if (index > 0) {\r\n            setIndex(index - 1);\r\n        }\r\n    };\r\n\r\n    const handleCardClick = (restaurantName) => {\r\n        navigate(`/find_store/${restaurantName}`);\r\n    };\r\n\r\n    const renderCategory = (title, filteredRestaurants, index, setIndex) => {\r\n        return (\r\n            <div className=\"main-category-section\">\r\n                <h2 className=\"main-category-title\">{title}</h2>\r\n                <div className=\"main-carousel-container\">\r\n                    <button\r\n                        className=\"main-arrow-button main-left-arrow\"\r\n                        onClick={() => handlePrev(setIndex, index)}\r\n                        disabled={index === 0}\r\n                    >\r\n                        ◀\r\n                    </button>\r\n                    <div className=\"main-card-list\">\r\n                        {filteredRestaurants\r\n                            .slice(index, index + 4)\r\n                            .map((restaurant) => (\r\n                                <div\r\n                                    key={restaurant.id}\r\n                                    className=\"main-card\"\r\n                                    onClick={() => handleCardClick(restaurant.name)}\r\n                                >\r\n                                    <img\r\n                                        src={\r\n                                            restaurant.photoName === \"default.jpg\"\r\n                                                ? \"/images/default.jpg\"\r\n                                                : `/images/restaurant/${restaurant.photoName}`\r\n                                        }\r\n                                        alt={restaurant.name}\r\n                                        className=\"main-card-image\"\r\n                                    />\r\n                                    <h3 className=\"main-card-title\">{restaurant.name}</h3>\r\n                                    <p className=\"main-card-menu\">\r\n                                        대표메뉴: {restaurant.category || \"정보 없음\"}\r\n                                    </p>\r\n                                    <h3 className=\"main-card-rating\">\r\n                                        ⭐\r\n                                        {restaurant.reviews?.length > 0 &&\r\n                                        restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) > 0\r\n                                            ? (\r\n                                                restaurant.reviews.reduce((sum, review) => sum + review.reviewScore, 0) /\r\n                                                restaurant.reviews.length\r\n                                            ).toFixed(1)\r\n                                            : restaurant.scoreNumber}\r\n                                    </h3>\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                    <button\r\n                        className=\"main-arrow-button main-right-arrow\"\r\n                        onClick={() =>\r\n                            handleNext(setIndex, index, filteredRestaurants)\r\n                        }\r\n                        disabled={index + 4 >= filteredRestaurants.length}\r\n                    >\r\n                        ▶\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const hotRestaurants = restaurants\r\n        .slice()\r\n        .sort(\r\n            (a, b) =>\r\n                b.reviews?.length - a.reviews?.length || b.scoreNumber - a.scoreNumber\r\n        );\r\n\r\n    const soloRestaurants = restaurants.filter((restaurant) =>\r\n        restaurant.tags?.includes(\"혼밥\")\r\n    );\r\n\r\n    const safeRestaurants = restaurants.filter((restaurant) =>\r\n        restaurant.tags?.includes(\"안심식당\")\r\n    );\r\n\r\n    return (\r\n        <DiningLayout>\r\n            <div className=\"main-container\">\r\n                {renderCategory(\r\n                    \"HOT 음식점 추천\",\r\n                    hotRestaurants,\r\n                    hotIndex,\r\n                    setHotIndex\r\n                )}\r\n                {renderCategory(\r\n                    \"혼밥 식당 추천\",\r\n                    soloRestaurants,\r\n                    soloIndex,\r\n                    setSoloIndex\r\n                )}\r\n                {renderCategory(\r\n                    \"안심식당 추천\",\r\n                    safeRestaurants,\r\n                    safeIndex,\r\n                    setSafeIndex\r\n                )}\r\n            </div>\r\n        </DiningLayout>\r\n    );\r\n};\r\n\r\nexport default Main;"],"names":["Main","restaurants","setRestaurants","useState","hotIndex","setHotIndex","soloIndex","setSoloIndex","safeIndex","setSafeIndex","navigate","useNavigate","useEffect","axios","get","then","response","data","catch","error","console","renderCategory","title","filteredRestaurants","index","setIndex","_jsxs","className","children","_jsx","onClick","handlePrev","disabled","slice","map","restaurant","_restaurant$reviews","handleCardClick","restaurantName","name","concat","src","photoName","alt","category","reviews","length","reduce","sum","review","reviewScore","toFixed","scoreNumber","id","handleNext","items","hotRestaurants","sort","a","b","_b$reviews","_a$reviews","soloRestaurants","filter","_restaurant$tags","tags","includes","safeRestaurants","_restaurant$tags2","DiningLayout"],"sourceRoot":""}
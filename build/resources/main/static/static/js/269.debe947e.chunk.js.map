{"version":3,"file":"static/js/269.debe947e.chunk.js","mappings":"oLAQA,MA6EA,EA7EcA,KACV,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,IAC/BG,GAAWC,EAAAA,EAAAA,MAgCjB,OACIC,EAAAA,EAAAA,KAACC,EAAAA,EAAY,CAAAC,UACTC,EAAAA,EAAAA,MAAA,QAAMC,UAAU,aAAaC,SAhChBC,UACjBC,EAAEC,iBACFC,QAAQC,IAAI,sDAAe,CAAEjB,SAAQG,WACrC,IACI,MAAMe,QAAiBC,EAAAA,EAAMC,KAAK,mCAAoC,CAClEpB,OAAQA,EACRG,OAAQA,IAGZa,QAAQC,IAAI,6BAAUC,EAASG,SAE3BH,EAASI,OCvBCC,EDwBAL,EAASG,QAAuB,cCvBxDG,aAAaC,QAAQ,YAAaF,GD0BpBG,OAAOC,cAAc,IAAIC,MAAM,UAE/BC,MAAM,oCACNxB,EAAS,KAEjB,CAAE,MAAOyB,GACDA,EAAIZ,UAAoC,MAAxBY,EAAIZ,SAASa,OAC7BF,MAAM,+IAENA,MAAM,0IAEVb,QAAQgB,MAAM,+CAAaF,EAC/B,CCvCkBP,KDuClB,EAKwDd,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBACJF,EAAAA,EAAAA,KAAA,SACII,UAAU,cACVsB,KAAK,OACLC,GAAG,KACHC,MAAOnC,EACPoC,SAAWtB,GAAMb,EAAUa,EAAEuB,OAAOF,OACpCG,YAAY,wBAEhB/B,EAAAA,EAAAA,KAAA,SACII,UAAU,cACVsB,KAAK,WACLE,MAAOhC,EACPiC,SAAWtB,GAAMV,EAAUU,EAAEuB,OAAOF,OACpCG,YAAY,8BAEhB5B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaF,SAAA,EACxBF,EAAAA,EAAAA,KAAA,SAAO0B,KAAK,WAAWC,GAAG,qBAAqB,uCAEnD3B,EAAAA,EAAAA,KAAA,UAAQI,UAAU,eAAcF,SAAC,wBACjCF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,QAAOF,UAClBF,EAAAA,EAAAA,KAACgC,EAAAA,GAAI,CAACC,GAAG,WAAU/B,SAAC,gCAExBF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,QAAOF,UAClBF,EAAAA,EAAAA,KAACgC,EAAAA,GAAI,CAACC,GAAG,iBAAgB/B,SAAC,+DAE9BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASF,SAAA,EACpBF,EAAAA,EAAAA,KAAA,UAAQ0B,KAAK,SAAStB,UAAU,gBAAeF,SAAC,oEAGhDF,EAAAA,EAAAA,KAAA,UAAQ0B,KAAK,SAAStB,UAAU,gBAAeF,SAAC,mEAK7C,C","sources":["pages/Login.js","utils/auth.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { saveToken } from \"../utils/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\"; // Link 컴포넌트를 import\r\nimport DiningLayout from \"../layouts/DiningLayout\";\r\nimport \"../css/Login.css\";\r\n\r\nconst Login = () => {\r\n    const [mem_id, setMem_id] = useState(\"\");\r\n    const [mem_pw, setMem_pw] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        console.log(\"로그인 요청 데이터:\", { mem_id, mem_pw }); // 요청 데이터 출력\r\n        try {\r\n            const response = await axios.post(\"http://localhost:18080/api/login\", {\r\n                mem_id: mem_id,\r\n                mem_pw: mem_pw,\r\n            });\r\n\r\n            console.log(\"응답 헤더:\", response.headers);\r\n\r\n            if (response.data) {\r\n                saveToken(response.headers[\"authorization\"]); // JWT 토큰 저장\r\n\r\n                // 로그인 이벤트 트리거\r\n                window.dispatchEvent(new Event(\"login\"));\r\n\r\n                alert(\"로그인 성공!\");\r\n                navigate(\"/\"); // 메인 페이지로 이동\r\n            }\r\n        } catch (err) {\r\n            if (err.response && err.response.status === 401) {\r\n                alert(\"로그인 실패: 아이디 또는 비밀번호가 잘못되었습니다.\");\r\n            } else {\r\n                alert(\"로그인 실패: 서버와의 통신 중 오류가 발생했습니다.\");\r\n            }\r\n            console.error(\"백엔드 연결 에러\", err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <DiningLayout>\r\n            <form className=\"login-form\" onSubmit={handleSubmit}>\r\n                <h1>로그인</h1>\r\n                <input\r\n                    className=\"input-field\"\r\n                    type=\"text\"\r\n                    id=\"id\"\r\n                    value={mem_id}\r\n                    onChange={(e) => setMem_id(e.target.value)}\r\n                    placeholder=\"아이디\"\r\n                />\r\n                <input\r\n                    className=\"input-field\"\r\n                    type=\"password\"\r\n                    value={mem_pw}\r\n                    onChange={(e) => setMem_pw(e.target.value)}\r\n                    placeholder=\"비밀번호\"\r\n                />\r\n                <div className=\"saveIdlabel\">\r\n                    <input type=\"checkbox\" id=\"confirm-password\" /> 아이디 저장\r\n                </div>\r\n                <button className=\"login-button\">로그인</button>\r\n                <div className=\"label\">\r\n                    <Link to=\"/Sign_up\">회원가입</Link>\r\n                </div>\r\n                <div className=\"label\">\r\n                    <Link to=\"/find_userinfo\">아이디/비밀번호찾기</Link>\r\n                </div>\r\n                <div className=\"display\">\r\n                    <button type=\"button\" className=\"signup-button\">\r\n                        카카오 아이디로 로그인\r\n                    </button>\r\n                    <button type=\"button\" className=\"signup-button\">\r\n                        구글계정으로 로그인\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </DiningLayout>\r\n    );\r\n};\r\n\r\nexport default Login;","// src/utils/auth.js\r\nexport const saveToken = (token) => {\r\n  localStorage.setItem(\"authToken\", token);\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem(\"authToken\");\r\n};\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(\"authToken\");\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return !!getToken();\r\n};\r\n"],"names":["Login","mem_id","setMem_id","useState","mem_pw","setMem_pw","navigate","useNavigate","_jsx","DiningLayout","children","_jsxs","className","onSubmit","async","e","preventDefault","console","log","response","axios","post","headers","data","token","localStorage","setItem","window","dispatchEvent","Event","alert","err","status","error","type","id","value","onChange","target","placeholder","Link","to"],"sourceRoot":""}